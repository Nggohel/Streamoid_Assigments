<!DOCTYPE html>
<html>
  <head>
    <title>Fabric.js Drawing</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.5.0/fabric.min.js"></script>
  </head>
  <body>
    <canvas
      id="canvas"
      width="800"
      height="600"
      style="border: 1px solid #000"
    ></canvas>
    <br />
    <button onclick="drawShape('rectangle')">Rectangle</button>
    <button onclick="drawShape('circle')">Circle</button>
    <button onclick="drawShape('triangle')">Triangle</button>
    <button onclick="undo()">Undo</button>
    <button onclick="redo()">Redo</button>
    <button onclick="group()">Group</button>
    <input type="color" id="colorPicker" value="#000000" />
    <script>
      var canvas = new fabric.Canvas("canvas");

      function drawShape(shapeType) {
        var color = document.getElementById("colorPicker").value;

        canvas.off("mouse:down"); // Remove previous event listener

        canvas.on("mouse:down", function (options) {
          var pointer = canvas.getPointer(options.e);
          var x = pointer.x;
          var y = pointer.y;

          var shape;
          if (shapeType === "rectangle") {
            shape = new fabric.Rect({
              left: x,
              top: y,
              width: 100,
              height: 100,
              fill: color,
              selectable: true,
            });
          } else if (shapeType === "circle") {
            shape = new fabric.Circle({
              left: x,
              top: y,
              radius: 50,
              fill: color,
              selectable: true,
            });
          } else if (shapeType === "triangle") {
            shape = new fabric.Triangle({
              left: x,
              top: y,
              width: 100,
              height: 100,
              fill: color,
              selectable: true,
            });
          }

          if (shape) {
            canvas.add(shape);
            canvas.renderAll();
            canvas.off("mouse:down"); // Remove event listener after drawing once
          }
        });
      }

      function undo() {
        var objects = canvas.getObjects();
        if (objects.length > 0) {
          canvas.remove(objects[objects.length - 1]);
          canvas.renderAll();
        }
      }

      function redo() {
        // Not implemented in this basic example
      }

      function group() {
        var activeObjects = canvas.getActiveObjects();
        if (activeObjects.length > 1) {
          var group = new fabric.Group(activeObjects, { selectable: true });
          canvas.discardActiveObject();
          canvas.add(group);
        }
      }
    </script>
  </body>
</html>

<!-- <!DOCTYPE html>
<html>
  <head>
    <title>Fabric.js Drawing</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.5.0/fabric.min.js"></script>
  </head>
  <body>
    <canvas
      id="canvas"
      width="800"
      height="600"
      style="border: 1px solid #000"
    ></canvas>
    <br />
    <button onclick="drawShape('rectangle')">Rectangle</button>
    <button onclick="drawShape('circle')">Circle</button>
    <button onclick="drawShape('triangle')">Triangle</button>
    <button onclick="undo()">Undo</button>
    <button onclick="redo()">Redo</button>
    <button onclick="group()">Group</button>
    <input type="color" id="colorPicker" value="#000000" />
    <script>
      var canvas = new fabric.Canvas("canvas");

      function drawShape(shapeType) {
        var color = document.getElementById("colorPicker").value;

        canvas.off("mouse:down"); // Remove previous event listener

        canvas.on("mouse:down", function (options) {
          var pointer = canvas.getPointer(options.e);
          var x = pointer.x;
          var y = pointer.y;

          var shape;
          if (shapeType === "rectangle") {
            shape = new fabric.Rect({
              left: x,
              top: y,
              width: 100,
              height: 100,
              fill: "",
              stroke: color,
              strokeWidth: 2,
              selectable: true,
            });
          } else if (shapeType === "circle") {
            shape = new fabric.Circle({
              left: x,
              top: y,
              radius: 50,
              fill: "",
              stroke: color,
              strokeWidth: 2,
              selectable: true,
            });
          } else if (shapeType === "triangle") {
            shape = new fabric.Triangle({
              left: x,
              top: y,
              width: 100,
              height: 100,
              fill: "",
              stroke: color,
              strokeWidth: 2,
              selectable: true,
            });
          }

          if (shape) {
            canvas.add(shape);
            canvas.renderAll();
            canvas.off("mouse:down"); // Remove event listener after drawing once
          }
        });
      }

      function undo() {
        var objects = canvas.getObjects();
        if (objects.length > 0) {
          canvas.remove(objects[objects.length - 1]);
          canvas.renderAll();
        }
      }

      function redo() {
        // Not implemented in this basic example
      }

      function group() {
        var activeObjects = canvas.getActiveObjects();
        if (activeObjects.length > 1) {
          var group = new fabric.Group(activeObjects, { selectable: true });
          canvas.discardActiveObject();
          canvas.add(group);
        }
      }
    </script>
  </body>
</html> -->

<!-- <!DOCTYPE html>
<html>
  <head>
    <title>Fabric.js Drawing</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.5.0/fabric.min.js"></script>
  </head>
  <body>
    <canvas
      id="canvas"
      width="800"
      height="600"
      style="border: 1px solid #000"
    ></canvas>
    <br />
    <button onclick="drawShape('rectangle')">Rectangle</button>
    <button onclick="drawShape('circle')">Circle</button>
    <button onclick="drawShape('triangle')">Triangle</button>
    <button onclick="drawLine()">Line</button>
    <button onclick="drawPointer()">Pointer</button>
    <button onclick="undo()">Undo</button>
    <button onclick="redo()">Redo</button>
    <button onclick="group()">Group</button>
    <input type="color" id="colorPicker" value="#000000" />
    <script>
      var canvas = new fabric.Canvas("canvas");
      var selectedShape = "rectangle"; // Default shape to draw

      function drawShape(shapeType) {
        selectedShape = shapeType;
      }

      function drawLine() {
        selectedShape = "line";
      }

      function drawPointer() {
        selectedShape = "pointer";
      }

      canvas.on("mouse:down", function (options) {
        var pointer = canvas.getPointer(options.e);
        var x = pointer.x;
        var y = pointer.y;
        var color = document.getElementById("colorPicker").value;

        var shape;
        if (selectedShape === "rectangle") {
          shape = new fabric.Rect({
            left: x,
            top: y,
            width: 100,
            height: 100,
            fill: color,
            selectable: true,
          });
        } else if (selectedShape === "circle") {
          shape = new fabric.Circle({
            left: x,
            top: y,
            radius: 50,
            fill: color,
            selectable: true,
          });
        } else if (selectedShape === "triangle") {
          shape = new fabric.Triangle({
            left: x,
            top: y,
            width: 100,
            height: 100,
            fill: color,
            selectable: true,
          });
        } else if (selectedShape === "line") {
          shape = new fabric.Line([x, y, x + 50, y + 50], {
            stroke: color,
            strokeWidth: 2,
            selectable: true,
          });
        } else if (selectedShape === "pointer") {
          // No action required here, just draw using the mouse pointer
        }

        if (shape) {
          canvas.add(shape);
          canvas.renderAll();
        }
      });

      function undo() {
        var objects = canvas.getObjects();
        if (objects.length > 0) {
          canvas.remove(objects[objects.length - 1]);
          canvas.renderAll();
        }
      }

      function redo() {
        // Not implemented in this basic example
      }

      function group() {
        var activeObjects = canvas.getActiveObjects();
        if (activeObjects.length > 1) {
          var group = new fabric.Group(activeObjects, { selectable: true });
          canvas.discardActiveObject();
          canvas.add(group);
        }
      }
    </script>
  </body>
</html> -->


